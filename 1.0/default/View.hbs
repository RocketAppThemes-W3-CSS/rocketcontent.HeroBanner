

<div class="w3-display-container" style="">

    {{#each genxml.data.genxml.rows.genxml}}

    {{#each imagelist.genxml}}

    {{#if @first}}
    <div id="sliderind{{moduleref @root}}-{{@index}}" onclick="changebanner{{moduleref @root}}({{@index}});" class="w3-row">
        <img class="sliderind{{moduleref @root}}" src="{{image @root "thumburl" @../index @index 640 200}}" style="width: 100%;">
        <div class="{{select.displayposarticleimage}}">{{image @root "alt" @../index @index}}</div>
    </div>
    {{else}}
    <div id="sliderind{{moduleref @root}}-{{@index}}" onclick="changebanner{{moduleref @root}}({{@index}});" class="w3-row" style="display:none;">
        <img class="sliderind{{moduleref @root}}" src="{{image @root "thumburl" @../index @index 640 200}}" style="width: 100%;">
        <div class="{{select.displayposarticleimage}}">{{image @root "alt" @../index @index}}</div>
    </div>
    {{/if}}
    {{/each}}
    {{/each}}
</div>

<script>

    function changebanner{{moduleref @root}}(idx)
    {
        var nextidx = idx + 1;
        if (nextidx == {{image @root "count"}}) {
            nextidx = 0
        }
        $('#sliderind{{moduleref @root}}-' + idx).hide();
        $('#sliderind{{moduleref @root}}-' + nextidx).show();

    }

</script>

{{! displayData this}}

